import streamlit as st
import random

# アプリケーションのタイトル
st.title("今日の運勢占い")

# ユーザーの名前を入力
name = st.text_input("あなたの名前を入力してください:")

# カテゴリーの選択
st.header("占いたいカテゴリーを選んでください")

categories = ["恋愛", "仕事", "健康"]
category = st.selectbox("カテゴリーを選んでください:", categories)

# 各カテゴリーごとの運勢データ（メッセージ、詳細アドバイス、ラッキーアイテム、ラッキーカラー）
fortune_data = {
    "恋愛": [
        {
            "fortune": "今日は恋愛運が好調！新しい出会いがあるかもしれません。",
            "detail": "新しい場所に出かけることで、素敵な出会いが期待できるかもしれません。積極的に人と話してみましょう！",
            "lucky_item": "ピンクのアクセサリー",
            "lucky_color": "ピンク"
        },
        {
            "fortune": "少し焦りがちですが、落ち着いて自分の気持ちを大切にしましょう。",
            "detail": "焦って行動すると、失敗の元です。深呼吸をして、自分の気持ちに正直になることが大切です。",
            "lucky_item": "香水",
            "lucky_color": "ホワイト"
        },
        {
            "fortune": "パートナーとの絆が深まる日。素直な気持ちを伝えてみて。",
            "detail": "パートナーと心を通わせることができる日です。感謝の気持ちを素直に伝えると、関係がより深まります。",
            "lucky_item": "ハート型の小物",
            "lucky_color": "レッド"
        },
        {
            "fortune": "運命の人に出会うチャンスがあるかもしれません！心を開いて。",
            "detail": "新しい出会いに対して、心を開いて接することがカギです。積極的にコミュニケーションを取ってみてください。",
            "lucky_item": "お守り",
            "lucky_color": "ゴールド"
        },
        {
            "fortune": "少し遠距離の恋愛に関して悩みがありそうですが、信じる気持ちが大切です。",
            "detail": "遠距離の関係は難しいこともありますが、お互いに信頼し合うことで強く絆を深めることができます。",
            "lucky_item": "手紙",
            "lucky_color": "ブルー"
        },
    ],
    "仕事": [
        {
            "fortune": "今日は仕事で新しいチャンスが訪れる日。積極的に挑戦してみましょう。",
            "detail": "新しいプロジェクトや任務に取り組むことで、キャリアに大きな進展があるかもしれません。恐れずに挑戦を！",
            "lucky_item": "ノートパソコン",
            "lucky_color": "ブラック"
        },
        {
            "fortune": "少し注意が必要な日。焦らず一つ一つ確実に進めることが大切。",
            "detail": "急いで決断を下すと後悔するかもしれません。慎重に計画を立て、冷静に行動しましょう。",
            "lucky_item": "時計",
            "lucky_color": "グレー"
        },
        {
            "fortune": "同僚との協力がカギ。みんなで力を合わせることで結果が出る日です。",
            "detail": "チームで協力することで、より良い結果が出せる日です。お互いの強みを活かして、協力し合いましょう。",
            "lucky_item": "ビジネスバッグ",
            "lucky_color": "ネイビー"
        },
        {
            "fortune": "今日の成果が評価されるチャンス。自信を持って取り組んで。",
            "detail": "自分の努力が実を結ぶ日。成果をアピールするチャンスです。自信を持って取り組みましょう。",
            "lucky_item": "名刺",
            "lucky_color": "ホワイト"
        },
        {
            "fortune": "新しいアイデアが浮かびそうな日。周りと共有し、意見を交換してみて。",
            "detail": "創造的なアイデアが浮かんできたら、積極的に周りと共有してみましょう。新しいチャンスが広がるかもしれません。",
            "lucky_item": "付箋",
            "lucky_color": "イエロー"
        },
    ],
    "健康": [
        {
            "fortune": "今日は体調が良い日。軽い運動をしてエネルギーを維持しましょう。",
            "detail": "体調が良いので、軽いジョギングやウォーキングをして、エネルギーを維持しましょう。体を動かすことで気分もリフレッシュ。",
            "lucky_item": "ヨガマット",
            "lucky_color": "グリーン"
        },
        {
            "fortune": "少し疲れが溜まっているかもしれません。休息を取ることを忘れずに。",
            "detail": "疲れが溜まっていると感じたら、無理をせずしっかりと休むことが大切です。リラックスして心身の回復を促しましょう。",
            "lucky_item": "アロマキャンドル",
            "lucky_color": "ラベンダー"
        },
        {
            "fortune": "食生活に気をつけることで、心身のバランスが整います。",
            "detail": "健康な食事を心がけることが、体調改善のカギです。バランスの取れた食事を摂ることを意識しましょう。",
            "lucky_item": "フルーツ",
            "lucky_color": "オレンジ"
        },
        {
            "fortune": "リラックスした時間が大切な日。ストレスを解消しましょう。",
            "detail": "ストレスがたまると体調に影響が出ることがあります。リラックスした時間を過ごして、ストレスを解消することが大切です。",
            "lucky_item": "温泉タオル",
            "lucky_color": "ピンク"
        },
        {
            "fortune": "体のケアに気を使うことで、元気を取り戻せる日です。",
            "detail": "体調が少し優れないと感じたら、早めにケアを始めましょう。マッサージやストレッチで体の調子を整えましょう。",
            "lucky_item": "マッサージオイル",
            "lucky_color": "ホワイト"
        },
    ],
}

# 複数の運勢を表示するボタン
num_fortunes = 3  # 表示する運勢の数

# 占いボタンが押されたとき
if st.button("占う"):
    if name:
        st.write(f"{name}さん、今日の{category}占いの結果は:")

        # ランダムに複数の運勢を選択して表示
        selected_fortunes = random.sample(fortune_data[category], num_fortunes)
        
        for i, fortune in enumerate(selected_fortunes, 1):
            st.write(f"**{i}. {fortune['fortune']}**")
            st.write(f"詳細: {fortune['detail']}")
            st.write(f"ラッキーアイテム: {fortune['lucky_item']}")
            st.write(f"ラッキーカラー: {fortune['lucky_color']}")
    else:
        st.warning("名前を入力してください。")

# アプリケーションの説明
st.write("""
このアプリは、今日の運勢を占うアプリです。占いたいカテゴリー（恋愛、仕事、健康）を選んで、運勢をチェックしてみましょう！
ラッキーアイ
